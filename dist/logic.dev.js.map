{"version":3,"sources":["logic.js"],"names":["document","addEventListener","bookForm","getElementById","bookList","fetchBooks","e","preventDefault","formData","FormData","fetch","method","body","URLSearchParams","then","reset","response","json","books","innerHTML","forEach","book","li","createElement","title","author","year","description","id","appendChild","querySelectorAll","button","target","getAttribute","headers"],"mappings":";;AAAAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAChD,MAAMC,QAAQ,GAAGF,QAAQ,CAACG,cAAT,CAAwB,WAAxB,CAAjB;AACA,MAAMC,QAAQ,GAAGJ,QAAQ,CAACG,cAAT,CAAwB,WAAxB,CAAjB,CAFgD,CAIhD;;AACAE,EAAAA,UAAU;AAEVH,EAAAA,QAAQ,CAACD,gBAAT,CAA0B,QAA1B,EAAoC,UAACK,CAAD,EAAO;AACvCA,IAAAA,CAAC,CAACC,cAAF;AACA,QAAMC,QAAQ,GAAG,IAAIC,QAAJ,CAAaP,QAAb,CAAjB;AACAQ,IAAAA,KAAK,CAAC,QAAD,EAAW;AACZC,MAAAA,MAAM,EAAE,MADI;AAEZC,MAAAA,IAAI,EAAE,IAAIC,eAAJ,CAAoBL,QAApB;AAFM,KAAX,CAAL,CAGGM,IAHH,CAGQ,YAAM;AACVT,MAAAA,UAAU;AACVH,MAAAA,QAAQ,CAACa,KAAT;AACH,KAND;AAOH,GAVD;;AAYA,WAASV,UAAT,GAAsB;AAClBK,IAAAA,KAAK,CAAC,cAAD,CAAL,CACKI,IADL,CACU,UAAAE,QAAQ;AAAA,aAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,KADlB,EAEKH,IAFL,CAEU,UAAAI,KAAK,EAAI;AACXd,MAAAA,QAAQ,CAACe,SAAT,GAAqB,EAArB;AACAD,MAAAA,KAAK,CAACE,OAAN,CAAc,UAAAC,IAAI,EAAI;AAClB,YAAMC,EAAE,GAAGtB,QAAQ,CAACuB,aAAT,CAAuB,IAAvB,CAAX;AACAD,QAAAA,EAAE,CAACH,SAAH,+CACcE,IAAI,CAACG,KADnB,0BACwCH,IAAI,CAACI,MAD7C,eACwDJ,IAAI,CAACK,IAD7D,iBACwEL,IAAI,CAACM,WAD7E,yDAEuBN,IAAI,CAACO,EAF5B,6IAGuBP,IAAI,CAACO,EAH5B;AAKAxB,QAAAA,QAAQ,CAACyB,WAAT,CAAqBP,EAArB;AACH,OARD;AAUAtB,MAAAA,QAAQ,CAAC8B,gBAAT,CAA0B,gBAA1B,EAA4CV,OAA5C,CAAoD,UAAAW,MAAM,EAAI;AAC1DA,QAAAA,MAAM,CAAC9B,gBAAP,CAAwB,OAAxB,EAAiC,UAACK,CAAD,EAAO;AACpC,cAAMsB,EAAE,GAAGtB,CAAC,CAAC0B,MAAF,CAASC,YAAT,CAAsB,SAAtB,CAAX;AACAvB,UAAAA,KAAK,CAAC,eAAD,EAAkB;AACnBC,YAAAA,MAAM,EAAE,MADW;AAEnBuB,YAAAA,OAAO,EAAE;AAAE,8BAAgB;AAAlB,aAFU;AAGnBtB,YAAAA,IAAI,EAAE,IAAIC,eAAJ,CAAoB;AAAEe,cAAAA,EAAE,EAAFA;AAAF,aAApB;AAHa,WAAlB,CAAL,CAIGd,IAJH,CAIQ;AAAA,mBAAMT,UAAU,EAAhB;AAAA,WAJR;AAKH,SAPD;AAQH,OATD;AAWAL,MAAAA,QAAQ,CAAC8B,gBAAT,CAA0B,cAA1B,EAA0CV,OAA1C,CAAkD,UAAAW,MAAM,EAAI;AACxDA,QAAAA,MAAM,CAAC9B,gBAAP,CAAwB,OAAxB,EAAiC,UAACK,CAAD,EAAO;AACpC,cAAMsB,EAAE,GAAGtB,CAAC,CAAC0B,MAAF,CAASC,YAAT,CAAsB,SAAtB,CAAX,CADoC,CAEpC;AACA;AACH,SAJD;AAKH,OAND;AAOH,KAhCL;AAiCH;AACJ,CAtDD","sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\r\n    const bookForm = document.getElementById('book-form');\r\n    const bookList = document.getElementById('book-list');\r\n\r\n    // Fetch books and render them\r\n    fetchBooks();\r\n\r\n    bookForm.addEventListener('submit', (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData(bookForm);\r\n        fetch('/admin', {\r\n            method: 'POST',\r\n            body: new URLSearchParams(formData)\r\n        }).then(() => {\r\n            fetchBooks();\r\n            bookForm.reset();\r\n        });\r\n    });\r\n\r\n    function fetchBooks() {\r\n        fetch('/admin/books')\r\n            .then(response => response.json())\r\n            .then(books => {\r\n                bookList.innerHTML = '';\r\n                books.forEach(book => {\r\n                    const li = document.createElement('li');\r\n                    li.innerHTML = `\r\n                        <strong>${book.title}</strong> by ${book.author} (${book.year}) - ${book.description}\r\n                        <button data-id=\"${book.id}\" class=\"delete-button\">Видалити</button>\r\n                        <button data-id=\"${book.id}\" class=\"edit-button\">Редагувати</button>\r\n                    `;\r\n                    bookList.appendChild(li);\r\n                });\r\n\r\n                document.querySelectorAll('.delete-button').forEach(button => {\r\n                    button.addEventListener('click', (e) => {\r\n                        const id = e.target.getAttribute('data-id');\r\n                        fetch('/admin/delete', {\r\n                            method: 'POST',\r\n                            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                            body: new URLSearchParams({ id })\r\n                        }).then(() => fetchBooks());\r\n                    });\r\n                });\r\n\r\n                document.querySelectorAll('.edit-button').forEach(button => {\r\n                    button.addEventListener('click', (e) => {\r\n                        const id = e.target.getAttribute('data-id');\r\n                        // Here you can add functionality for editing books\r\n                        // You might want to display a form with the current book data for editing\r\n                    });\r\n                });\r\n            });\r\n    }\r\n});"],"file":"logic.dev.js"}