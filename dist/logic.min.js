"use strict";document.addEventListener("DOMContentLoaded",function(){var n=document.getElementById("book-form"),o=document.getElementById("book-list");function c(){fetch("/admin/books").then(function(t){return t.json()}).then(function(t){o.innerHTML="",t.forEach(function(t){var e=document.createElement("li");e.innerHTML="\n                        <strong>".concat(t.title,"</strong> by ").concat(t.author," (").concat(t.year,") - ").concat(t.description,'\n                        <button data-id="').concat(t.id,'" class="delete-button">Видалити</button>\n                        <button data-id="').concat(t.id,'" class="edit-button">Редагувати</button>\n                    '),o.appendChild(e)}),document.querySelectorAll(".delete-button").forEach(function(t){t.addEventListener("click",function(t){var e=t.target.getAttribute("data-id");fetch("/admin/delete",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({id:e})}).then(function(){return c()})})}),document.querySelectorAll(".edit-button").forEach(function(t){t.addEventListener("click",function(t){t.target.getAttribute("data-id")})})})}c(),n.addEventListener("submit",function(t){t.preventDefault();var e=new FormData(n);fetch("/admin",{method:"POST",body:new URLSearchParams(e)}).then(function(){c(),n.reset()})})});
//# sourceMappingURL=logic.min.js.map
