"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,o){return n&&_defineProperties(e.prototype,n),o&&_defineProperties(e,o),e}var sqlite3=require("sqlite3").verbose(),db=new sqlite3.Database("./db/database.sqlite");db.serialize(function(){db.run("CREATE TABLE IF NOT EXISTS books (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        title TEXT,                            \n        author TEXT,                          \n        year INTEGER,                          \n        description TEXT,                     \n        coverUrl TEXT                       \n    )")});var Book=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getAllBooks",value:function(){return new Promise(function(o,t){db.all("SELECT * FROM books",[],function(e,n){e&&t(e),o(n)})})}},{key:"addBook",value:function(e,t,r,i,u){return new Promise(function(n,o){db.run("INSERT INTO books (title, author, year, description, coverUrl) VALUES (?, ?, ?, ?, ?)",[e,t,r,i,u],function(e){e&&o(e),n(this.lastID)})})}},{key:"deleteBook",value:function(e){return new Promise(function(n,o){db.run("DELETE FROM books WHERE id = ?",[e],function(e){e&&o(e),n()})})}},{key:"findById",value:function(e){return new Promise(function(o,t){db.get("SELECT * FROM books WHERE id = ?",[e],function(e,n){e?t(e):o(n)})})}},{key:"update",value:function(e,n){var t=n.title,r=n.author,i=n.year,u=n.description,a=n.coverUrl;return new Promise(function(n,o){db.run("UPDATE books SET title = ?, author = ?, year = ?, description = ?, coverUrl = ? WHERE id = ?",[t,r,i,u,a,e],function(e){e?o(e):n()})})}}]),e}();module.exports=Book;
//# sourceMappingURL=book.min.js.map
